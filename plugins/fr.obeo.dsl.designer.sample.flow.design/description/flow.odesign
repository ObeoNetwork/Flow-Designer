<?xml version="1.0" encoding="ASCII"?>
<description:Group xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:description="http://www.obeo.fr/dsl/viewpoint/description/1.1.0" xmlns:description_1="http://www.obeo.fr/dsl/viewpoint/table/description/1.1.0" xmlns:style="http://www.obeo.fr/dsl/viewpoint/description/style/1.1.0" xmlns:tool="http://www.obeo.fr/dsl/viewpoint/description/tool/1.1.0" xmlns:validation="http://www.obeo.fr/dsl/viewpoint/description/validation/1.1.0" name="Flow">
  <eAnnotations source="Migration">
    <details key="SemanticCandidatesExpressionBehaviorChange" value=""/>
    <details key="LabelAlignmentForDNodeListElementMappingMigrationForBehaviourPresevation" value=""/>
    <details key="LabelAlignmentForAbstractDNodeMappingMigrationForBehaviourPresevation" value=""/>
    <details key="SVG.BundledImageDescription.BorderColor" value=""/>
  </eAnnotations>
  <ownedViewpoints name="Exchanges" modelFileExtension="flow">
    <validationSet>
      <ownedRules xsi:type="validation:SemanticValidationRule" message="The &lt;%name%> Procesor is not used" targetClass="Processor">
        <audits auditExpression="&lt;%self.~.filter(&quot;DataFlow&quot;)%>"/>
        <fixes name="Remove Element">
          <initialOperation>
            <firstModelOperations xsi:type="tool:RemoveElement"/>
          </initialOperation>
        </fixes>
      </ownedRules>
    </validationSet>
    <ownedRepresentations xsi:type="description:DiagramDescription" name="Topography" domainClass="System">
      <defaultLayer name="Main">
        <nodeMappings name="Data Source" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Name%20and%20Volume']" semanticCandidatesExpression="&lt;%elements%>" domainClass="DataSource">
          <style xsi:type="style:BundledImageDescription" labelExpression="&lt;%name%> : &lt;%volume%>" sizeComputationExpression="&lt;%volume / 2%>" shape="dot">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="Processor" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Name%20and%20Volume']" semanticCandidatesExpression="&lt;%elements%>" domainClass="Processor">
          <style xsi:type="style:BundledImageDescription" labelExpression="&lt;%name%> : &lt;%volume%>" sizeComputationExpression="&lt;%capacity / 2%>">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;over&quot;%>">
            <style xsi:type="style:BundledImageDescription" labelExpression="&lt;%name%> : &lt;%volume%>" sizeComputationExpression="&lt;%capacity / 2%>">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_red']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_red']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;high&quot;%>">
            <style xsi:type="style:BundledImageDescription" labelExpression="&lt;%name%> : &lt;%volume%>" sizeComputationExpression="&lt;%capacity / 2%>">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_orange']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_orange']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;normal&quot;%>">
            <style xsi:type="style:BundledImageDescription" labelExpression="&lt;%name%> : &lt;%volume%>" sizeComputationExpression="&lt;%capacity / 2%>">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_green']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_green']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;low&quot;%>">
            <style xsi:type="style:BundledImageDescription" labelExpression="&lt;%name%> : &lt;%volume%>" sizeComputationExpression="&lt;%capacity / 2%>">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <edgeMappings name="Data Source to Processor" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Capacity']" semanticCandidatesExpression="&lt;%elements.eAllContents(&quot;DataFlow&quot;)%>" semanticElements="&lt;%self%>" sourceMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Data%20Source']" targetMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']" targetFinderExpression="&lt;%target%>" sourceFinderExpression="&lt;%source%>" domainClass="DataFlow" useDomainElement="true">
          <style sizeComputationExpression="&lt;%capacity / 2%>">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;over&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_red']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;high&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_orange']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;standard&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_green']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;low&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <edgeMappings name="Processor  to Processor" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Capacity']" semanticCandidatesExpression="&lt;%elements.eAllContents(&quot;DataFlow&quot;)%>" semanticElements="&lt;%self%>" sourceMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']" targetMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']" targetFinderExpression="&lt;%target%>" sourceFinderExpression="&lt;%source%>" domainClass="DataFlow" useDomainElement="true">
          <style sizeComputationExpression="&lt;%capacity / 2%>">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;over&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_red']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;high&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_orange']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;standard&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_green']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%usage == &quot;low&quot;%>">
            <style sizeComputationExpression="&lt;%capacity / 2%>">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_blue']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%load%> / &lt;%capacity%>">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <containerMappings name="System" detailDescriptions="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Sub%20Topography']" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Name']" semanticCandidatesExpression="&lt;%eContents.filter(&quot;System&quot;)%>" domainClass="System" reusedNodeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Data%20Source'] //@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']">
          <style xsi:type="style:FlatContainerStyleDescription" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
          </style>
        </containerMappings>
        <toolSections name="Creation Tools">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Data Source" nodeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Data%20Source']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="DataSource" referenceName="elements">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="New DataSource"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="status" valueExpression="active"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Processor" nodeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="Processor" referenceName="elements">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="new Processor"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="status" valueExpression="active"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="State Processor" nodeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="StateProcessor" referenceName="elements">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="new Processor"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="status" valueExpression="active"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Capacity">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="capacity" valueExpression="&lt;%$0.adapt(&quot;int&quot;)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Flow" edgeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@edgeMappings[name='Data%20Source%20to%20Processor'] //@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@edgeMappings[name='Processor%20%20to%20Processor']" extraTargetMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@containerMappings[name='System']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="DataFlow" referenceName="outgoingFlows">
                  <subModelOperations xsi:type="tool:SetValue" featureName="target" valueExpression="&lt;%$target%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Composite Processor" containerMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@containerMappings[name='System']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="CompositeProcessor" referenceName="elements">
                <subModelOperations xsi:type="tool:SetValue" featureName="status" valueExpression="active"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Name and Volume">
            <mask mask="{0} : {1}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="volume" valueExpression="&lt;%$1%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="Sub Topography" diagramDescription="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']">
            <initialOperation/>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:CrossTableDescription" name="DataFlow Matrix" domainClass="System">
      <ownedLineMappings name="Flow Sources" semanticElements="&lt;%getRootContainer%>" domainClass="FlowSource" semanticCandidatesExpression=""/>
      <ownedColumnMappings name="Flow Target" semanticElements="&lt;%getRootContainer%>" domainClass="FlowTarget"/>
      <intersection name="Source to Target" semanticElements="&lt;%self%>" lineMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='DataFlow%20Matrix']/@ownedLineMappings[name='Flow%20Sources']" columnMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='DataFlow%20Matrix']/@ownedColumnMappings.0" labelExpression="X" useDomainClass="true" columnFinderExpression="&lt;%target%>" lineFinderExpression="&lt;%source%>" domainClass="DataFlow"/>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description:DiagramDescription" name="Processor States" domainClass="StateProcessor">
      <defaultLayer name="Default">
        <nodeMappings name="Event" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Name']" semanticCandidatesExpression="&lt;%eContents().filter(&quot;Event&quot;)%>" domainClass="Event">
          <style xsi:type="style:BundledImageDescription" showIcon="false" shape="dot">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="Operation" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Name']" semanticCandidatesExpression="&lt;%eContents().filter(&quot;Operation&quot;)%>" domainClass="Operation">
          <style xsi:type="style:BundledImageDescription" showIcon="false" shape="triangle">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <edgeMappings name="Activate State" semanticCandidatesExpression="&lt;%current.eAllContents%>" sourceMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@nodeMappings[name='Event']" targetMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@containerMappings[name='State']" targetFinderExpression="&lt;%next%>">
          <style lineStyle="dash" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_green']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="Execute Operation" semanticCandidatesExpression="&lt;%current.eAllContents%>" sourceMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@containerMappings[name='State']" targetMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@nodeMappings[name='Operation']" targetFinderExpression="&lt;%execute%>">
          <style lineStyle="dash" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='yellow']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="Next State" semanticCandidatesExpression="&lt;%current.eAllContents%>" sourceMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@containerMappings[name='State']" targetMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@containerMappings[name='State']" targetFinderExpression="&lt;%next%>">
          <style lineStyle="dash" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='blue']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="State" labelDirectEdit="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Name']" semanticCandidatesExpression="&lt;%eContents().filter(&quot;State&quot;)%>" domainClass="State">
          <style xsi:type="style:FlatContainerStyleDescription" showIcon="false" roundedCorner="true" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='blue']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%self == eContainer(&quot;StateProcessor&quot;).first%>">
            <style xsi:type="style:FlatContainerStyleDescription" showIcon="false" roundedCorner="true" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <toolSections name="Creation Tools">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="State" containerMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@containerMappings[name='State']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="State" referenceName="states">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newState"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Event" nodeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@nodeMappings[name='Event']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="Event" referenceName="events">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newEvent"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Operation" nodeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@nodeMappings[name='Operation']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="Operation" referenceName="operations">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="newOperation"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Activate State" edgeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@edgeMappings[name='Activate%20State']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="&lt;%$target%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Execute Operation" edgeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@edgeMappings[name='Execute%20Operation']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="execute" valueExpression="&lt;%$target%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Next State" edgeMappings="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Processor%20States']/@defaultLayer/@edgeMappings[name='Next%20State']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="next" valueExpression="&lt;%$target%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
  </ownedViewpoints>
  <ownedViewpoints name="Safety" modelFileExtension="flow">
    <validationSet>
      <ownedRules xsi:type="validation:SemanticValidationRule" level="WARNING" message="The &lt;%wheight%> is too high." targetClass="Physical">
        <audits auditExpression="&lt;%weight > 1000%>"/>
      </ownedRules>
    </validationSet>
    <ownedRepresentationExtensions xsi:type="description:DiagramExtensionDescription" name="Topography extension" viewpointURI="viewpoint:/fr.obeo.dsl.designer.sample.flow.design/Exchanges" representationName="Topography">
      <layers name="Temperature">
        <nodeMappings name="Fan" semanticCandidatesExpression="&lt;%elements%>" domainClass="Fan">
          <style xsi:type="style:BundledImageDescription" showIcon="false" labelExpression="&lt;%speed%> RPM" sizeComputationExpression="&lt;%weight / 10%>" shape="ring">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
          </style>
        </nodeMappings>
        <containerMappings xsi:type="description:ContainerMappingImport" name="SubSystems Import" semanticCandidatesExpression="&lt;%current.eAllContents%>" domainClass="System" reusedNodeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Temperature']/@nodeMappings[name='Fan'] //@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Data%20Source'] //@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']" importedMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@containerMappings[name='System']">
          <style xsi:type="style:FlatContainerStyleDescription" labelExpression="&lt;%name%> : &lt;%temperature%>&#xb0;C" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%temperature >= 60%>">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="&lt;%name%> : &lt;%temperature%>&#xb0;C" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_red']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%temperature >= 40%>">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="&lt;%name%> : &lt;%temperature%>&#xb0;C" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_orange']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%temperature >= 20%>">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="&lt;%name%> : &lt;%temperature%>&#xb0;C" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_green']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <toolSections name="Creation Tools">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Small Fan" nodeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Temperature']/@nodeMappings[name='Fan']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="Fan" referenceName="elements">
                <subModelOperations xsi:type="tool:SetValue" featureName="speed" valueExpression="1000"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="weight" valueExpression="20"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Standard Fan" nodeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Temperature']/@nodeMappings[name='Fan']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="Fan" referenceName="elements">
                <subModelOperations xsi:type="tool:SetValue" featureName="speed" valueExpression="2000"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="weight" valueExpression="30"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Big Fan" nodeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Temperature']/@nodeMappings[name='Fan']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="Fan" referenceName="elements">
                <subModelOperations xsi:type="tool:SetValue" featureName="speed" valueExpression="3000"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="weight" valueExpression="40"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </layers>
      <layers name="Power">
        <edgeMappings name="PowerLinks" semanticCandidatesExpression="&lt;%current.eAllContents%>" semanticElements="&lt;%self%>" sourceMapping="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Power']/@containerMappings[name='SubSystems%20Import']/@borderedNodeMappings[name='Power%20Outputs']" targetMapping="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Power']/@containerMappings[name='SubSystems%20Import']/@borderedNodeMappings[name='Power%20Inputs']" targetFinderExpression="&lt;%target%>" sourceFinderExpression="&lt;%source%>" domainClass="PowerLink" useDomainElement="true">
          <style lineStyle="dash" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings xsi:type="description:ContainerMappingImport" name="SubSystems Import" semanticCandidatesExpression="&lt;%current.eAllContents%>" domainClass="System" reusedNodeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Temperature']/@nodeMappings[name='Fan'] //@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Data%20Source'] //@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@nodeMappings[name='Processor']" importedMapping="//@ownedViewpoints[name='Exchanges']/@ownedRepresentations[name='Topography']/@defaultLayer/@containerMappings[name='System']">
          <borderedNodeMappings name="Power Inputs" semanticCandidatesExpression="&lt;%powerInputs%>" domainClass="PowerInput">
            <style xsi:type="style:BundledImageDescription" showIcon="false" labelExpression="" labelAlignment="LEFT" sizeComputationExpression="2">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </borderedNodeMappings>
          <borderedNodeMappings name="Power Outputs" semanticCandidatesExpression="&lt;%powerOutputs%>" domainClass="PowerOutput">
            <style xsi:type="style:BundledImageDescription" showIcon="false" labelExpression="" labelAlignment="LEFT" sizeComputationExpression="2">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </borderedNodeMappings>
          <conditionnalStyles predicateExpression="&lt;%(powerInputs.~target.filter(&quot;PowerLink&quot;).source) || (self.powerOutputs.nSize)%>">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="&lt;%name%> : powered" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_green']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%true%>">
            <style xsi:type="style:FlatContainerStyleDescription" labelExpression="&lt;%name%> : no power" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <toolSections name="Creation Tools">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Plug" nodeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Power']/@containerMappings[name='SubSystems%20Import']/@borderedNodeMappings[name='Power%20Inputs']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="PowerInput" referenceName="powerInputs"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Production" nodeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Power']/@containerMappings[name='SubSystems%20Import']/@borderedNodeMappings[name='Power%20Outputs']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="PowerOutput" referenceName="powerOutputs"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Alimentation Link" edgeMappings="//@ownedViewpoints[name='Safety']/@ownedRepresentationExtensions[name='Topography%20extension']/@layers[name='Power']/@edgeMappings[name='PowerLinks']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="PowerLink" referenceName="links">
                  <subModelOperations xsi:type="tool:SetValue" featureName="target" valueExpression="&lt;%$target%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </layers>
    </ownedRepresentationExtensions>
  </ownedViewpoints>
  <ownedViewpoints name="Performance" modelFileExtension="flow">
    <ownedRepresentations xsi:type="description_1:EditionTableDescription" name="Systems and Processors" domainClass="System">
      <ownedLineMappings name="System Line" reusedSubLines="//@ownedViewpoints[name='Performance']/@ownedRepresentations[name='Systems%20and%20Processors']/@ownedLineMappings[name='Processor%20Line']" domainClass="System"/>
      <ownedLineMappings name="Processor Line" reusedInMappings="//@ownedViewpoints[name='Performance']/@ownedRepresentations[name='Systems%20and%20Processors']/@ownedLineMappings[name='System%20Line']" domainClass="Processor">
        <defaultForeground labelSize="8">
          <foreGroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
        </defaultForeground>
        <foregroundConditionalStyle predicateExpression="&lt;%status == &quot;inactive&quot;%>">
          <style labelSize="8" labelFormat="italic">
            <foreGroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
          </style>
        </foregroundConditionalStyle>
        <backgroundConditionalStyle predicateExpression="&lt;%usage == &quot;high&quot;%>">
          <style>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_red']"/>
          </style>
        </backgroundConditionalStyle>
        <backgroundConditionalStyle predicateExpression="&lt;%usage == &quot;over&quot;%>">
          <style>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_orange']"/>
          </style>
        </backgroundConditionalStyle>
      </ownedLineMappings>
      <ownedColumnMappings name="Capacity" headerLabelExpression="Capacity" featureName="capacity"/>
      <ownedColumnMappings name="Load" headerLabelExpression="Load" featureName="load"/>
      <ownedColumnMappings name="Usage" headerLabelExpression="Usage" featureName="usage"/>
      <ownedColumnMappings name="Status" headerLabelExpression="Status" featureName="status" labelExpression=""/>
    </ownedRepresentations>
  </ownedViewpoints>
</description:Group>
